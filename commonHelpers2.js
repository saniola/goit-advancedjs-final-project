import{c as k,s as n,b as p,d as x,e as $,f as T}from"./assets/fetch-and-set-quote-95904678.js";import{a as v}from"./assets/vendor-032df744.js";const M=e=>e.map(({filter:t="Not found",name:s="Not found",imgURL:r})=>`<div class="category-wrap" name="${s}">
      <img class="category-img" src="${r}" alt="${s}" loading="lazy">
      <div class="category-text-wrap">
          <p class="category-title">${s}</p>
          <p class="category-subtitle">${t}</p>
      </div>
  </div>`).join("");async function g(e){let t="?";const s=document.querySelector(".content"),r=document.querySelector(".loader-text");r.style.display="inline-block";for(const[o,c]of Object.entries(e))t+=`${o}=${c}&`;try{const o=await v({method:"get",url:`${k.DOMEN}/filters${t}limit=${window.innerWidth<768?9:12}`,responseType:"json"});return s.innerHTML=M(o.data.results),o.data.totalPages}catch{n({type:"error",title:"Server error",message:"Sorry, the category information was not retrieved from the server. Please refresh the page"})}finally{r.style.display="none"}}function S(e){const t=document.querySelector(".form-search-exersises");if(e){t.classList.remove("is-hide");return}t.classList.add("is-hide")}function b(e){const t=document.querySelector(".js-title"),s=document.querySelector(".js-title-slash");if(e===""){t.classList.add("is-hide"),s.classList.add("is-hide");return}t.textContent=e,t.classList.remove("is-hide"),s.classList.remove("is-hide")}async function A(e){const t=Array.from(document.querySelectorAll(".btn-filter")),s=document.querySelector(".breadcrumb");t.forEach(r=>{r.addEventListener("click",async()=>{if(r.classList.contains("active"))return;const o=document.querySelector(".form-search-exersises"),c=r.dataset.category.replace(" ","+");o.elements.search.value="",o.classList.remove("is-hide"),S(!1),b(""),s.classList.remove("clickable"),s.dataset.category=c,t.forEach(d=>d.classList.remove("active")),r.classList.add("active");const a=await e({filter:c,page:1});p({params:{filter:r.dataset.category.replace(" ","+"),page:1},totalPages:a,method:e})})})}async function m(e){const t=document.querySelector(".btn-filter.active").dataset.exercise;e!=null&&e.value&&(e[t]=e==null?void 0:e.value);const s=document.querySelector(".input-search-exersises").value;e.keyword=s,S(!0);let r="?";const o=document.querySelector(".content"),c=document.querySelector(".loader-text");c.style.display="block";for(const[a,d]of Object.entries(e))r+=`${a}=${d}&`;try{const{data:a}=await v({method:"get",url:`${k.DOMEN}/exercises${r}limit=${window.innerWidth<768?8:10}`,responseType:"json"});o.innerHTML=x(a.results);const d=document.querySelector(".pagination");d.innerHTML="",a.totalPages>1&&p({params:e,totalPages:a==null?void 0:a.totalPages,method:m})}catch{n({type:"error",title:"Server error",message:"Sorry, the exercises information was not retrieved from the server. Please refresh the page"})}finally{c.style.display="none"}$()}function w(e){const s=window.location.hostname!=="localhost"?"/goit-advancedjs-final-project":"";e.querySelectorAll('use[href*="images/icons.svg"]').forEach(r=>{const o=r.getAttribute("href"),[c,a]=o.split("#");r.setAttribute("href",`${s}${c}?v=${new Date().getTime()}#${a}`)})}function D(){new MutationObserver(t=>{t.forEach(s=>{s.addedNodes.forEach(r=>{r.nodeType===1&&w(r)})})}).observe(document.body,{childList:!0,subtree:!0}),w(document.body)}const L=document.querySelector(".scroll-to-top");let q=document.documentElement.scrollTop;function P(){q=document.documentElement.scrollTop,q>100?L.style.display="flex":L.style.display="none"}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".footer-form"),t=e==null?void 0:e.querySelector(".footer-form-input");e==null||e.addEventListener("submit",async o=>{o.preventDefault();const c=t.value;if(!s(c)){n({type:"error",title:"Error",message:"Please enter a valid email address."});return}try{const a=await v.post("https://your-energy.b.goit.study/api/subscription",{email:c});n({type:"success",title:"Success",message:a.data.message})}catch(a){a.response?r(a.response.status,a.response.data.message):n({type:"error",title:"Error",message:"An unexpected error occurred. Please try again later."})}e.reset()});function s(o){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(String(o).toLowerCase())}function r(o,c){switch(o){case 400:n({type:"error",title:"Bad Request",message:"Invalid request body. Please check your input."});break;case 404:n({type:"error",title:"Not Found",message:"The requested resource could not be found."});break;case 409:n({type:"warning",title:"Already Subscribed",message:"You are already subscribed to this service."});break;case 500:n({type:"error",title:"Server Error",message:"There was a problem with the server. Please try again later."});break;default:n({type:"error",title:"Error",message:c||"An unexpected error occurred. Please try again later."})}}});const l=document.querySelector(".form-search-exersises"),f=document.querySelector(".content"),j=document.querySelector(".scroll-to-top"),i=document.querySelector(".breadcrumb");let h="Muscles";const y=1;let u="";window.onload=()=>{const e=document.querySelector(".loader-text");e.style.display="none"};async function E(){const e=await g({filter:h,page:y});e>1&&p({params:{filter:h,page:y},totalPages:e,method:g})}document.addEventListener("DOMContentLoaded",async()=>{D(),T(),A(g),E(),i==null||i.addEventListener("click",e=>{i.classList.contains("clickable")&&(h=i.dataset.category,E(),S(!1),b(""),i.classList.remove("clickable"))})});l==null||l.addEventListener("submit",async e=>{e.preventDefault();const t=document.querySelector(".btn-filter.active").dataset.exercise;await m({[t]:u,category:t,page:y})});l==null||l.addEventListener("reset",async e=>{e.preventDefault(),e.target.querySelector(".input-search-exersises").value="",await m({value:u,page:y})});f==null||f.addEventListener("click",async e=>{const t=e.target.closest(".category-wrap");t&&(l.classList.remove("is-hide"),u=t.getAttribute("name"),b(u),i==null||i.classList.add("clickable"),await m({value:u,page:y}),window.innerWidth<768&&document.querySelector(".filter-title").scrollIntoView({behavior:"smooth"}))});document.querySelector(".toggle-btn-home").classList.add("active");document.querySelector(".toggle-btn-favorites").classList.remove("active");j.addEventListener("click",()=>{document.documentElement.scrollTop=0});window.onscroll=P;window.onload=P;
//# sourceMappingURL=commonHelpers2.js.map

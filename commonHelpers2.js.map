{"version":3,"file":"commonHelpers2.js","sources":["../src/js/fetch-quote.js","../src/js/get-current-date.js","../src/js/fetch-and-set-quote.js","../src/js/category-card-markup.js","../src/js/fetch-categories.js","../src/js/show-search-form.js","../src/js/set-exercise-title.js","../src/js/handle-filters-click.js","../src/js/fetch-exercises.js","../src/js/handle-email-form.js","../src/js/main.js"],"sourcesContent":["import axios from 'axios';\nimport { constants } from './constants';\nimport { showToast } from './toast';\n\nexport async function fetchQuote() {\n  const loader = document.querySelector('.loader-text');\n  loader.style.display = 'block';\n  try {\n    const { data } = await axios({\n      method: 'get',\n      url: `${constants.domen}/quote`,\n      responseType: 'json',\n    });\n\n    return data;\n  } catch (error) {\n    showToast({\n      type: 'info',\n      title: 'Server error',\n      message: 'Sorry, today quote was not retrieved from the server. But previous one was pretty good',\n    });\n    return {\n      author: \"Shaquille O'Neal\",\n      quote: 'Excellence is not a singular act but a habit. You are what you do repeatedly.',\n    };\n  } finally {\n    loader.style.display = 'none';\n  }\n}\n","export function getCurrentDate() {\n  const today = new Date();\n  const day = String(today.getDate()).padStart(2, '0');\n  const month = String(today.getMonth() + 1).padStart(2, '0');\n  const year = today.getFullYear();\n\n  return `${day}/${month}/${year}`;\n}\n","import { fetchQuote } from './fetch-quote';\nimport { getCurrentDate } from './get-current-date';\n\nfunction setQuote(author, quote) {\n  const quoteText = document.querySelector('.quote-text');\n  const quoteAuthor = document.querySelector('.quote-author');\n\n  if (quoteText && quoteAuthor) {\n    quoteAuthor.innerHTML = author;\n    quoteText.innerHTML = quote;\n  }\n}\n\nexport async function fetchAndSetQuote() {\n  const savedQuote = localStorage.getItem('quote');\n  const currentDate = getCurrentDate();\n\n  if (!savedQuote || JSON.parse(savedQuote).currentDate !== currentDate) {\n    const { author, quote } = await fetchQuote();\n    setQuote(author, quote);\n    localStorage.setItem(\n      'quote',\n      JSON.stringify({\n        currentDate,\n        author,\n        quote,\n      })\n    );\n    return;\n  }\n\n  const { author, quote } = JSON.parse(savedQuote);\n  setQuote(author, quote);\n}\n","/**create markup for category card\n *\n * @param {object} data\n * @returns {string}\n */\nexport const createCategoryMarkup = data =>\n  data\n    .map(\n      ({ filter = 'Not found', name = 'Not found', imgURL }) =>\n        `<div class=\"category-wrap\" name=\"${name}\">\n      <img class=\"category-img\" src=\"${imgURL}\" alt=\"${name}\" loading=\"lazy\">\n      <div class=\"category-text-wrap\">\n          <p class=\"category-title\">${name}</p>\n          <p class=\"category-subtitle\">${filter}</p>\n      </div>\n  </div>`\n    )\n    .join('');\n","import axios from 'axios';\nimport { constants } from './constants';\nimport { createCategoryMarkup } from './category-card-markup';\nimport { showToast } from './toast';\n\nexport async function fetchCategories(params) {\n  let filterParams = '?';\n  const content = document.querySelector('.content');\n  const loader = document.querySelector('.loader-text');\n  loader.style.display = 'inline-block';\n\n  for (const [key, value] of Object.entries(params)) {\n    filterParams += `${key}=${value}&`;\n  }\n\n  try {\n    const response = await axios({\n      method: 'get',\n      url: `${constants.domen}/filters${filterParams}limit=${window.innerWidth < 768 ? 9 : 12}`,\n      responseType: 'json',\n    });\n\n    content.innerHTML = createCategoryMarkup(response.data.results);\n    return response.data.totalPages;\n  } catch (error) {\n    showToast({\n      type: 'error',\n      title: 'Server error',\n      message: 'Sorry, the category information was not retrieved from the server. Please refresh the page',\n    });\n  } finally {\n    loader.style.display = 'none';\n  }\n}\n","export function showSearchForm(isShow) {\n  const searchForm = document.querySelector('.form-search-exersises');\n  if (isShow) {\n    searchForm.classList.remove('is-hide');\n    return;\n  }\n  //searchForm.reset();\n  searchForm.classList.add('is-hide');\n}\n","export function setExerciseTitle(text) {\n  const title = document.querySelector('.js-title');\n  const titleSlash = document.querySelector('.js-title-slash');\n\n  if (text === '') {\n    title.classList.add('is-hide');\n    titleSlash.classList.add('is-hide');\n    return;\n  }\n\n  title.textContent = text;\n  title.classList.remove('is-hide');\n  titleSlash.classList.remove('is-hide');\n}\n","import { createPagination } from './create-pagination';\nimport { showSearchForm } from './show-search-form';\nimport { setExerciseTitle } from './set-exercise-title';\n\nexport async function handleFiltersClick(method) {\n  const filterButtons = Array.from(document.querySelectorAll('.btn-filter'));\n\n  filterButtons.forEach(button => {\n    button.addEventListener('click', async () => {\n      const searchForm = document.querySelector('.form-search-exersises');\n      searchForm.elements['search'].value = '';\n      searchForm.classList.remove('is-hide');\n      showSearchForm(false);\n      setExerciseTitle('');\n\n      if (!button.classList.contains('active')) {\n        filterButtons.forEach(button => button.classList.remove('active'));\n        button.classList.add('active');\n      }\n      const totalPages = await method({\n        filter: button.dataset.category.replace(' ', '+'),\n        page: 1,\n      });\n\n      createPagination({\n        params: { filter: button.dataset.category.replace(' ', '+'), page: 1 },\n        totalPages,\n        method: method,\n      });\n    });\n  });\n}\n","import axios from 'axios';\nimport { constants } from './constants';\n\nimport { createExerciseMarkup } from './exercise-card-markup';\nimport { createPagination } from './create-pagination';\nimport { showSearchForm } from './show-search-form';\nimport { showToast } from './toast';\n\nexport async function fetchExercises(params) {\n  const category = document.querySelector('.btn-filter.active').dataset.exercise;\n\n  if (params?.value) {\n    params[category] = params?.value;\n  }\n\n  const keyword = document.querySelector('.input-search-exersises').value;\n  params.keyword = keyword;\n\n  showSearchForm(true);\n\n  let filterParams = '?';\n  const content = document.querySelector('.content');\n  const loader = document.querySelector('.loader-text');\n  loader.style.display = 'block';\n\n  for (const [key, value] of Object.entries(params)) {\n    filterParams += `${key}=${value}&`;\n  }\n  try {\n    const { data } = await axios({\n      method: 'get',\n      url: `${constants.domen}/exercises${filterParams}limit=${window.innerWidth < 768 ? 8 : 10}`,\n      responseType: 'json',\n    });\n\n    content.innerHTML = createExerciseMarkup(data.results);\n\n    const pagination = document.querySelector('.pagination');\n    pagination.innerHTML = '';\n\n    if (data.totalPages > 1) {\n      createPagination({\n        params: params,\n        totalPages: data?.totalPages,\n        method: fetchExercises,\n      });\n    }\n  } catch (error) {\n    showToast({\n      type: 'error',\n      title: 'Server error',\n      message: 'Sorry, the exercises information was not retrieved from the server. Please refresh the page',\n    });\n  } finally {\n    loader.style.display = 'none';\n  }\n}\n","import { showToast } from './toast';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const form = document.querySelector('.footer-form');\n  const emailInput = form.querySelector('.footer-form-input');\n\n  form.addEventListener('submit', event => {\n    event.preventDefault();\n\n    const email = emailInput.value;\n\n    if (!validateEmail(email)) {\n      showToast({\n        type: 'error',\n        title: 'Error',\n        message: 'Please enter a valid email address.',\n      });\n\n      return;\n    }\n\n    showToast({\n      type: 'success',\n      title: 'Success',\n      message: 'You have successfully subscribed!',\n    });\n\n    console.log('SENT TO THE SERVER:', email);\n\n    form.reset();\n  });\n\n  function validateEmail(email) {\n    const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n\n    return re.test(String(email).toLowerCase());\n  }\n});\n","import { createPagination } from './create-pagination';\nimport { fetchAndSetQuote } from './fetch-and-set-quote';\nimport { fetchCategories } from './fetch-categories';\nimport { handleFiltersClick } from './handle-filters-click';\nimport { fetchExercises } from './fetch-exercises';\nimport { openModal } from './exercise-modal';\n\nimport { setExerciseTitle } from './set-exercise-title';\nimport './handle-email-form';\n\nconst searchForm = document.querySelector('.form-search-exersises');\nconst content = document.querySelector('.content');\nconst filterTabs = document.querySelector('.list-filter-exersises');\nconst loader = document.querySelector('.loader-start');\nloader.style.display = 'block';\n\nconst filter = 'Muscles';\nlet page = 1;\nlet catValue = '';\n\ndocument.addEventListener('DOMContentLoaded', async () => {\n  loader.style.display = 'none';\n\n  const method = fetchCategories;\n  fetchAndSetQuote();\n  // if (isExcercisesPage) {\n  //   method = fetchExcercises;\n  // }\n  handleFiltersClick(method);\n\n  const totalPages = await method({\n    filter,\n    page,\n  });\n\n  if (totalPages > 1) {\n    createPagination({\n      params: { filter, page },\n      totalPages,\n      method: fetchCategories,\n    });\n  }\n});\n\nsearchForm.addEventListener('submit', async e => {\n  e.preventDefault();\n\n  await fetchExercises({\n    value: catValue,\n    page,\n  });\n  attachExerciseModalListeners();\n});\n\nsearchForm.addEventListener('reset', async e => {\n  e.preventDefault();\n  e.target.querySelector('.input-search-exersises').value = '';\n  await fetchExercises({\n    value: catValue,\n    page,\n  });\n  attachExerciseModalListeners();\n});\n\ncontent.addEventListener('click', async e => {\n  const item = e.target.closest('.category-wrap');\n  if (!item) return;\n\n  catValue = item.getAttribute('name');\n  setExerciseTitle(catValue);\n  await fetchExercises({\n    value: catValue,\n    page,\n  });\n  attachExerciseModalListeners();\n});\n\ndocument.querySelector('.toggle-btn-home').classList.add('active');\ndocument.querySelector('.toggle-btn-favorites').classList.remove('active');\n\nfunction attachExerciseModalListeners() {\n  const modalExerciseInfoButtons = document.querySelectorAll('.modal-exercise-info');\n  modalExerciseInfoButtons.forEach(button => {\n    button.addEventListener('click', () => {\n      openModal(button.id);\n    });\n  });\n}\n"],"names":["fetchQuote","loader","data","axios","constants","showToast","getCurrentDate","today","day","month","year","setQuote","author","quote","quoteText","quoteAuthor","fetchAndSetQuote","savedQuote","currentDate","createCategoryMarkup","filter","name","imgURL","fetchCategories","params","filterParams","content","key","value","response","showSearchForm","isShow","searchForm","setExerciseTitle","text","title","titleSlash","handleFiltersClick","method","filterButtons","button","totalPages","createPagination","fetchExercises","category","keyword","createExerciseMarkup","pagination","form","emailInput","event","email","validateEmail","page","catValue","attachExerciseModalListeners","item","openModal"],"mappings":"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"}